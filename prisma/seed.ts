import { PrismaClient } from '@prisma/client'

const prisma = new PrismaClient()

async function main() {
  console.log('üå± Iniciando seed...')

  // Crear provincias
  const cordoba = await prisma.province.upsert({
    where: { slug: 'cordoba' },
    update: {},
    create: {
      slug: 'cordoba',
      name: 'C√≥rdoba',
    },
  })

  const santaFe = await prisma.province.upsert({
    where: { slug: 'santa-fe' },
    update: {},
    create: {
      slug: 'santa-fe',
      name: 'Santa Fe',
    },
  })

  const buenosAires = await prisma.province.upsert({
    where: { slug: 'buenos-aires' },
    update: {},
    create: {
      slug: 'buenos-aires',
      name: 'Buenos Aires',
    },
  })

  console.log('‚úÖ Provincias creadas')

  // Crear drones
  const djiT25 = await prisma.drone.upsert({
    where: { slug: 'dji-agras-t25' },
    update: {},
    create: {
      slug: 'dji-agras-t25',
      brand: 'DJI',
      model: 'Agras T25',
      capacityL: 25,
      payloadKg: 25,
      year: 2023,
      features: JSON.stringify(['RTK', 'Vision', 'Radar', 'Nocturno']),
      pros: JSON.stringify([
        'Excelente autonom√≠a de vuelo',
        'Sistema de pulverizaci√≥n preciso',
        'Resistente a condiciones adversas',
        'F√°cil mantenimiento'
      ]),
      cons: JSON.stringify([
        'Precio elevado',
        'Requiere capacitaci√≥n especializada',
        'Dependiente de condiciones clim√°ticas'
      ]),
      specs: JSON.stringify({
        peso: '24.5 kg',
        velocidad: '12 m/s',
        autonomia: '18 minutos',
        cobertura: '10-12 ha/hora',
        precision: '¬±2 cm'
      })
    },
  })

  const djiT40 = await prisma.drone.upsert({
    where: { slug: 'dji-agras-t40' },
    update: {},
    create: {
      slug: 'dji-agras-t40',
      brand: 'DJI',
      model: 'Agras T40',
      capacityL: 40,
      payloadKg: 40,
      year: 2023,
      features: JSON.stringify(['RTK', 'Vision', 'Radar', 'Nocturno', 'Dual Tank']),
      pros: JSON.stringify([
        'Mayor capacidad de carga',
        'Sistema dual de tanques',
        'Tecnolog√≠a de pulverizaci√≥n avanzada',
        'Excelente para grandes extensiones'
      ]),
      cons: JSON.stringify([
        'Mayor inversi√≥n inicial',
        'Requiere m√°s espacio para operaci√≥n',
        'Consumo de bater√≠a elevado'
      ]),
      specs: JSON.stringify({
        peso: '38.2 kg',
        velocidad: '12 m/s',
        autonomia: '20 minutos',
        cobertura: '15-18 ha/hora',
        precision: '¬±2 cm'
      })
    },
  })

  const djiT50 = await prisma.drone.upsert({
    where: { slug: 'dji-agras-t50' },
    update: {},
    create: {
      slug: 'dji-agras-t50',
      brand: 'DJI',
      model: 'Agras T50',
      capacityL: 50,
      payloadKg: 50,
      year: 2025,
      features: JSON.stringify(['RTK', 'Vision', 'Radar', 'Nocturno', 'Dual Tank', 'AI']),
      pros: JSON.stringify([
        'M√°xima capacidad del mercado',
        'Inteligencia artificial integrada',
        'Sistema de navegaci√≥n avanzado',
        'Ideal para operaciones comerciales'
      ]),
      cons: JSON.stringify([
        'Precio muy elevado',
        'Complejidad de operaci√≥n',
        'Requiere infraestructura especializada'
      ]),
      specs: JSON.stringify({
        peso: '45.8 kg',
        velocidad: '12 m/s',
        autonomia: '22 minutos',
        cobertura: '20-25 ha/hora',
        precision: '¬±1 cm'
      })
    },
  })


  console.log('‚úÖ Drones creados')

  // Crear empresas
  const empresa1 = await prisma.company.upsert({
    where: { slug: 'agro-drones-cordoba' },
    update: {},
    create: {
      slug: 'agro-drones-cordoba',
      name: 'Agro Drones C√≥rdoba',
      description: 'Especialistas en fumigaci√≥n con drones para la regi√≥n centro de Argentina. M√°s de 5 a√±os de experiencia.',
      websiteUrl: 'https://agrodronescordoba.com',
      phone: '+54 351 123-4567',
      whatsapp: '+54 351 123-4567',
      email: 'info@agrodronescordoba.com',
      address: 'Ruta 9 Km 123',
      city: 'C√≥rdoba',
      provinceId: cordoba.id,
      services: JSON.stringify(['pulverizacion', 'fertilizacion']),
      certifications: JSON.stringify(['ANAC-CEVANT', 'BPA']),
      lat: -31.4201,
      lng: -64.1888,
      isFeatured: true,
    },
  })

  const empresa2 = await prisma.company.upsert({
    where: { slug: 'precision-aerea-santa-fe' },
    update: {},
    create: {
      slug: 'precision-aerea-santa-fe',
      name: 'Precisi√≥n A√©rea Santa Fe',
      description: 'Servicios de pulverizaci√≥n y siembra con drones. Cobertura en toda la provincia de Santa Fe.',
      websiteUrl: 'https://precisionaereasf.com',
      phone: '+54 342 987-6543',
      whatsapp: '+54 342 987-6543',
      email: 'contacto@precisionaereasf.com',
      address: 'Ruta 11 Km 45',
      city: 'Santa Fe',
      provinceId: santaFe.id,
      services: JSON.stringify(['pulverizacion', 'siembra', 'fertilizacion']),
      certifications: JSON.stringify(['ANAC-CEVANT', 'BPA', 'ISO-9001']),
      lat: -31.6333,
      lng: -60.7000,
      isFeatured: true,
    },
  })

  const empresa3 = await prisma.company.upsert({
    where: { slug: 'drone-agricola-buenos-aires' },
    update: {},
    create: {
      slug: 'drone-agricola-buenos-aires',
      name: 'Drone Agr√≠cola Buenos Aires',
      description: 'L√≠deres en tecnolog√≠a de drones agr√≠colas en la provincia de Buenos Aires.',
      websiteUrl: 'https://droneagricolaba.com',
      phone: '+54 11 4567-8901',
      whatsapp: '+54 11 4567-8901',
      email: 'ventas@droneagricolaba.com',
      address: 'Ruta 5 Km 78',
      city: 'Luj√°n',
      provinceId: buenosAires.id,
      services: JSON.stringify(['pulverizacion', 'mapeo']),
      certifications: JSON.stringify(['ANAC-CEVANT', 'BPA']),
      lat: -34.5734,
      lng: -59.1033,
      isFeatured: false,
    },
  })

  console.log('‚úÖ Empresas creadas')

  // Crear art√≠culos
  const articulos = [
    {
      slug: 'que-es-fumigacion-con-drones',
      title: '¬øQu√© es la fumigaci√≥n con drones y c√≥mo funciona?',
      category: 'conceptos',
      excerpt: 'Descubre todo sobre la fumigaci√≥n con drones: qu√© es, c√≥mo funciona y por qu√© est√° revolucionando la agricultura moderna.',
      bodyMdx: `# ¬øQu√© es la fumigaci√≥n con drones?

La fumigaci√≥n con drones es una t√©cnica agr√≠cola que utiliza veh√≠culos a√©reos no tripulados (UAV) para aplicar productos fitosanitarios, fertilizantes y otros tratamientos a los cultivos de manera precisa y eficiente.

## ¬øC√≥mo funciona?

Los drones agr√≠colas est√°n equipados con:

- **Sistemas de pulverizaci√≥n**: Tanques de l√≠quido con boquillas especializadas
- **Navegaci√≥n GPS/RTK**: Para vuelos precisos y repetibles
- **Sensores**: C√°maras, radares y sensores de proximidad
- **Software de planificaci√≥n**: Para optimizar rutas y dosis

## Ventajas principales

1. **Precisi√≥n**: Aplicaci√≥n milim√©trica de productos
2. **Eficiencia**: Mayor velocidad que m√©todos tradicionales
3. **Seguridad**: Reduce exposici√≥n humana a qu√≠micos
4. **Flexibilidad**: Acceso a terrenos dif√≠ciles

## FAQ

### ¬øEs legal fumigar con drones en Argentina?
S√≠, pero requiere certificaciones espec√≠ficas de ANAC y cumplimiento de normativas provinciales.

### ¬øQu√© cultivos se pueden fumigar?
Pr√°cticamente todos: soja, ma√≠z, trigo, girasol, hortalizas, frutales, etc.

### ¬øCu√°l es el costo por hect√°rea?
Var√≠a entre $3.000 y $8.000 por hect√°rea seg√∫n el tipo de aplicaci√≥n y cultivo.`
    },
    {
      slug: 'beneficios-fumigacion-con-drones',
      title: 'Beneficios y ventajas de aplicar agroqu√≠micos con drones',
      category: 'conceptos',
      excerpt: 'Conoce los principales beneficios de la fumigaci√≥n con drones: mayor precisi√≥n, eficiencia y rentabilidad en tus cultivos.',
      bodyMdx: `# Beneficios de la fumigaci√≥n con drones

La tecnolog√≠a de drones est√° transformando la agricultura argentina, ofreciendo ventajas significativas sobre los m√©todos tradicionales.

## Beneficios econ√≥micos

- **Reducci√≥n de costos**: Hasta 40% menos que aviones fumigadores
- **Mayor productividad**: 3-5 veces m√°s r√°pido que equipos terrestres
- **Menor desperdicio**: Aplicaci√≥n precisa reduce uso de productos
- **ROI positivo**: Retorno de inversi√≥n en 2-3 campa√±as

## Beneficios operativos

- **Acceso a terrenos dif√≠ciles**: Humedales, arrozales, cultivos altos
- **Operaci√≥n nocturna**: Mayor ventana de aplicaci√≥n
- **Menor compactaci√≥n**: No da√±a el suelo como maquinaria pesada
- **Flexibilidad clim√°tica**: Operaci√≥n en condiciones adversas

## Beneficios ambientales

- **Menor deriva**: Aplicaci√≥n m√°s controlada
- **Reducci√≥n de emisiones**: Menor consumo de combustible
- **Protecci√≥n de cursos de agua**: Vuelos precisos evitan contaminaci√≥n
- **Biodiversidad**: Menor impacto en fauna y flora

## FAQ

### ¬øCu√°nto tiempo ahorra la fumigaci√≥n con drones?
Entre 60-80% del tiempo comparado con m√©todos tradicionales.

### ¬øEs m√°s efectiva que la fumigaci√≥n terrestre?
S√≠, especialmente en cultivos altos y terrenos irregulares.

### ¬øQu√© productos se pueden aplicar?
Herbicidas, insecticidas, fungicidas, fertilizantes l√≠quidos y s√≥lidos.`
    },
    {
      slug: 'mejores-drones-agricolas-2025',
      title: 'Gu√≠a 2025 de drones agr√≠colas: modelos y caracter√≠sticas',
      category: 'tecnologia',
      excerpt: 'An√°lisis completo de los mejores drones agr√≠colas del mercado: DJI, XAG y otras marcas l√≠deres con especificaciones t√©cnicas.',
      bodyMdx: `# Mejores drones agr√≠colas 2025

Gu√≠a completa de los drones m√°s destacados para fumigaci√≥n agr√≠cola en Argentina.

## DJI Agras T50

**Especificaciones:**
- Capacidad: 50L l√≠quidos / 50kg s√≥lidos
- Autonom√≠a: 22 minutos
- Cobertura: 20-25 ha/hora
- Precio: $45.000 USD

**Ventajas:**
- M√°xima capacidad del mercado
- Inteligencia artificial integrada
- Sistema dual de tanques
- Excelente soporte t√©cnico

## DJI Agras T40

**Especificaciones:**
- Capacidad: 40L l√≠quidos / 40kg s√≥lidos
- Autonom√≠a: 20 minutos
- Cobertura: 15-18 ha/hora
- Precio: $35.000 USD

**Ventajas:**
- Excelente relaci√≥n precio-calidad
- Tecnolog√≠a probada
- Amplia disponibilidad de repuestos
- F√°cil mantenimiento


## Comparativa de costos

| Modelo | Precio | Costo/ha | ROI estimado |
|--------|--------|----------|--------------|
| T50 | $45.000 | $2.200 | 18 meses |
| T40 | $35.000 | $2.500 | 15 meses |
| P150 | $28.000 | $3.000 | 12 meses |

## FAQ

### ¬øCu√°l es el mejor drone para empezar?
El DJI Agras T40 ofrece el mejor balance precio-prestaciones.

### ¬øSe pueden financiar los drones?
S√≠, varias empresas ofrecen planes de financiaci√≥n y leasing.

### ¬øQu√© certificaciones necesitan?
Deben cumplir normativas ANAC y tener certificaci√≥n CEVANT.`
    }
  ]

  for (const articulo of articulos) {
    await prisma.article.upsert({
      where: { slug: articulo.slug },
      update: {},
      create: articulo,
    })
  }

  console.log('‚úÖ Art√≠culos creados')

  // Crear reviews
  const reviews = [
    {
      slug: 'review-dji-agras-t25',
      title: 'Review DJI Agras T25: An√°lisis completo del drone agr√≠cola',
      droneId: djiT25.id,
      summary: 'An√°lisis detallado del DJI Agras T25, sus caracter√≠sticas, pros, contras y rendimiento en campo.',
      bodyMdx: `# Review DJI Agras T25

El DJI Agras T25 representa una excelente opci√≥n para operaciones agr√≠colas medianas, combinando tecnolog√≠a avanzada con facilidad de uso.

## Especificaciones t√©cnicas

- **Capacidad**: 25L l√≠quidos / 25kg s√≥lidos
- **Peso**: 24.5 kg
- **Autonom√≠a**: 18 minutos
- **Velocidad m√°xima**: 12 m/s
- **Cobertura**: 10-12 ha/hora

## Pros

‚úÖ **Excelente autonom√≠a** para su categor√≠a
‚úÖ **Sistema de pulverizaci√≥n preciso** con boquillas optimizadas
‚úÖ **Resistente a condiciones adversas** (viento, polvo, humedad)
‚úÖ **F√°cil mantenimiento** con repuestos disponibles
‚úÖ **Software intuitivo** para planificaci√≥n de vuelos

## Contras

‚ùå **Precio elevado** comparado con competencia
‚ùå **Requiere capacitaci√≥n especializada** para operaci√≥n
‚ùå **Dependiente de condiciones clim√°ticas** (viento > 10 m/s)
‚ùå **Bater√≠as costosas** para reemplazo

## Rendimiento en campo

En nuestras pruebas durante 6 meses:

- **Eficiencia**: 95% de precisi√≥n en aplicaci√≥n
- **Confiabilidad**: 98% de vuelos exitosos
- **Mantenimiento**: 2 horas mensuales promedio
- **Costo operativo**: $2.800/ha promedio

## Veredicto

**Puntuaci√≥n: 4.2/5**

El Agras T25 es ideal para productores medianos que buscan tecnolog√≠a confiable y eficiente. Su precio se justifica por la calidad de construcci√≥n y soporte t√©cnico.

## FAQ

### ¬øVale la pena la inversi√≥n?
S√≠, especialmente si manejas m√°s de 500 hect√°reas por campa√±a.

### ¬øQu√© cultivos son ideales?
Soja, ma√≠z, trigo, girasol y hortalizas de hoja.

### ¬øSe puede usar para siembra?
S√≠, con el kit de siembra opcional.`,
      rating: 4
    }
  ]

  for (const review of reviews) {
    await prisma.review.upsert({
      where: { slug: review.slug },
      update: {},
      create: review,
    })
  }

  console.log('‚úÖ Reviews creadas')

  // Crear FAQs
  const faqs = [
    {
      question: '¬øEs legal fumigar con drones en Argentina?',
      answerMdx: 'S√≠, es legal pero requiere certificaciones espec√≠ficas. Los operadores deben tener licencia de ANAC (Administraci√≥n Nacional de Aviaci√≥n Civil) y cumplir con normativas provinciales. Tambi√©n es necesario contar con certificaci√≥n CEVANT para el manejo de productos fitosanitarios.'
    },
    {
      question: '¬øCu√°nto cuesta fumigar con drones por hect√°rea?',
      answerMdx: 'El costo var√≠a entre $3.000 y $8.000 por hect√°rea seg√∫n el tipo de aplicaci√≥n, cultivo y regi√≥n. Factores como la complejidad del terreno, tipo de producto y urgencia del servicio influyen en el precio final.'
    },
    {
      question: '¬øQu√© cultivos se pueden fumigar con drones?',
      answerMdx: 'Pr√°cticamente todos los cultivos: soja, ma√≠z, trigo, girasol, arroz, hortalizas, frutales, vi√±edos, etc. Los drones son especialmente efectivos en cultivos altos y terrenos de dif√≠cil acceso para maquinaria tradicional.'
    },
    {
      question: '¬øCu√°ntas hect√°reas puede fumigar un drone por d√≠a?',
      answerMdx: 'Un drone agr√≠cola puede cubrir entre 80-200 hect√°reas por d√≠a, dependiendo del modelo, condiciones clim√°ticas y tipo de aplicaci√≥n. Los drones m√°s grandes como el DJI Agras T50 pueden alcanzar hasta 300 hect√°reas en condiciones √≥ptimas.'
    },
    {
      question: '¬øQu√© ventajas tiene la fumigaci√≥n con drones?',
      answerMdx: 'Las principales ventajas son: mayor precisi√≥n en la aplicaci√≥n, acceso a terrenos dif√≠ciles, menor compactaci√≥n del suelo, operaci√≥n nocturna, reducci√≥n de deriva, menor exposici√≥n humana a qu√≠micos y mayor eficiencia operativa.'
    }
  ]

  for (const faq of faqs) {
    await prisma.faq.upsert({
      where: { id: `faq-${faq.question.slice(0, 20)}` },
      update: {},
      create: faq,
    })
  }

  console.log('‚úÖ FAQs creadas')
  console.log('üéâ Seed completado exitosamente!')
}

main()
  .then(async () => {
    await prisma.$disconnect()
  })
  .catch(async (e) => {
    console.error(e)
    await prisma.$disconnect()
    process.exit(1)
  })